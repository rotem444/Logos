{"version":3,"sources":["store/typs.jsx","store/reducer.jsx","store/action.jsx","component/Navbar.jsx","utilize/logicFunc.jsx","component/About.jsx","component/eding/store/actionType.js","component/eding/store/action.js","component/common/keyboard.jsx","component/Help.jsx","component/exercise/store/types.jsx","component/exercise/store/reducer.jsx","component/exercise/store/actions.jsx","component/common/Popup.jsx","rules/inferenceRules.jsx","component/exercise/Prof.jsx","component/exercise/Index.jsx","component/exercise/Route.jsx","component/eding/Create.jsx","component/eding/Index.jsx","component/eding/store/reducer.jsx","component/eding/Route.jsx","component/StudentsTracking.jsx","component/LogOut.jsx","component/user/Input.jsx","component/user/store.jsx","component/user/SignUp.jsx","component/user/SignIn.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["BROWSE","PUT_QUERY_STR","REQUEST","SUCCESS","FAILED","LOG_OUT","reducer","state","type","payload","console","log","act","page","lesson","exercise","loading","toast","path","status","name","homework","teacherEmail","request","body","info","Navbar","navs","dispatch","className","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","_","partition","route","test","map","nav","idx","repeat","link","startCase","connectives","letters","greekLetters","brk","wwf","toArgFormat","premises","conclusion","join","isWWF","formula","replace","comparisonProp","prop1","prop2","sortProp","prop","length","hasUnnesseryBrackets","slice","splitProp","connective","props","includes","sort","cleanBrackets","addBracket","initial","findMainConnective","findMainIndex","sub","search","split","push","unionDicts","dicts","union","dict","isNil","entries","key","val","getDict","schema","schemaConnective","schemaProps","zip","p","s","reverse","getConclusion","schemas","char","str","some","convertToJS","isProvable","concat","functionBody","atomicProps","uniq","trueTableFunc","Function","colLen","rowLen","range","every","col","bitwiseArr","pad","toString","parseInt","users","user","age","About","history","useContext","Context","queryStr","onClick","size","sortBy","o","PHYSICAL_KEYBOARD_CHLICK","VIRTUAL_KEYBOARD_CHLICK","ADD_PREMISE","REPLACE_PREMISE","DELETE_PREMISE","MARKED_PREMISE","SWITCH_PREMISES","ADD_CONCLUSION","REPLACE_CONCLUSION","DELETE_CONCLUSION","ADD_ARGUMENT","REPLACE_ARGUMENT","MARKED_ARGUMENT","GO_TO_INDEX","physicalKeyboardClick","value","virtualKeyboardClick","addPremise","replacePremise","undefined","markedPremise","switchPremises","addConclusion","replaceConclusion","addArgument","replaceArgument","Keyboard","actions","onChange","currentTarget","toUpperCase","illegalChar","style","left","top","letter","action","toLowerCase","Help","INFERENCE","MARKED_PROP","GO_BACK","ADD_FROM_POPUP","FINISH","init","prof","premise","proposition","rationale","indentation","isMarked","model","isFinish","error","last","add","Popup","options","option","addFromPopup","InferenceRules","this","indentationChange","compact","len","mainConnectives","filter","findIndex","inde","difference","find","markedProps","p1","p2","main","endsWith","sortPremises","rest","err","lengthCheck","blockCheck","mainConnectivesCheck","indentationDownChack","newLine","line","arr","rules","data","Prof","_id","index","pathname","httpDispatch","useReducer","useEffect","table","success","scope","width","cursor","textIndent","flexShrink","flexBasis","height","rule","title","newState","interfer","ExercisesIndex","lessons","useState","hoverExercise","setHoverExercise","onMouseLeave","idxLesson","onMouseEnter","idxExercise","arg","data-placement","target","ExerciseRoute","location","parse","CreateExerises","marked","lessonsIndex","has","border","draggable","onDragStart","onDragOver","e","preventDefault","onDrop","stopPropagation","EditingIndex","idx1","idx2","borderRadius","wwfChack","cloneDeep","pick","set","EdingRoute","parseNumbers","StudentsTracking","students","sum","scop","email","completed","percent","LogOut","localStorage","removeItem","Input","label","field","htmlFor","Joi","string","required","password","min","isSignUp","validate","details","message","SignUp","fields","novalidate","onSubmit","keys","statusName","checked","for","SignIn","React","createContext","App","useLocation","examples","window","routes","Guide","Examples","Homework","Eding","Tracking","links","useHistory","axios","defaults","headers","common","useMemo","getItem","post","then","token","setItem","catch","messege","response","Provider","Component","component","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75c8aae5.chunk.js","sourcesContent":["export const BROWSE = \"BROWSE\";\r\nexport const PUT_QUERY_STR = \"PUT_QUERY_STR\";\r\nexport const REQUEST = \"REQUEST\";\r\nexport const SUCCESS = \"SUCCESS\";\r\nexport const FAILED = \"FAILED\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\n","import _ from \"lodash\";\r\nimport { toast } from \"react-toastify\";\r\nimport { parse } from \"query-string\";\r\nimport produce from \"immer\";\r\nimport examples from \"./examples.json\";\r\nimport axios from \"axios\";\r\nimport * as act from \"./typs\";\r\n\r\nexport const init = (location) => {\r\n  return {\r\n    loading: true,\r\n    name: null,\r\n    status: \"guest\",\r\n    examples,\r\n    homework: examples,\r\n    page: window.location.pathname.slice(1),\r\n    path: \"entry\",\r\n    lesson: null,\r\n    exercise: null,\r\n    students: [\r\n      [\"Roni\", \"Roni123@gmail.com\", 2],\r\n      [\"Shira\", \"Shira123@gmail.com\", 2],\r\n      [\"Alon\", \"Alon123@gmail.com\", 1],\r\n    ],\r\n  };\r\n};\r\n\r\nexport const reducer = (state, { type, payload }) => {\r\n  console.log(payload);\r\n  switch (type) {\r\n    case act.BROWSE:\r\n      return {\r\n        ...state,\r\n        page: payload,\r\n        lesson: null,\r\n        exercise: null,\r\n      };\r\n    case act.PUT_QUERY_STR:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n    case act.REQUEST:\r\n      if (state.loading) {\r\n        toast(\"The request has already been received\");\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        loading: true,\r\n      };\r\n    case act.SUCCESS:\r\n      let { path } = state;\r\n      console.log(\"rtrt\");\r\n      console.log(payload);\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        loading: false,\r\n        page: null,\r\n      };\r\n    case act.FAILED:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        path: \"\",\r\n      };\r\n    case act.LOG_OUT:\r\n      return {\r\n        ...state,\r\n        status: \"guest\",\r\n        name: null,\r\n        homework: null,\r\n        teacherEmail: null,\r\n      };\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import * as act from \"./typs\";\r\n\r\nexport const browse = (page = null) => ({\r\n  type: act.BROWSE,\r\n  info: \"\",\r\n  payload: page,\r\n});\r\n\r\nexport const putQueryStr = (lesson = null, exercise = null) => ({\r\n  type: act.PUT_QUERY_STR,\r\n  info: \"\",\r\n  payload: { lesson, exercise },\r\n});\r\n\r\nexport const request = (path, body, page = null) => ({\r\n  type: act.REQUEST,\r\n  info: \"\",\r\n  payload: { path, body, page },\r\n});\r\n\r\nexport const success = (data) => ({\r\n  type: act.SUCCESS,\r\n  info: \"\",\r\n  payload: data,\r\n});\r\n\r\nexport const failed = () => ({\r\n  type: act.FAILED,\r\n  info: \"\",\r\n});\r\n\r\nexport const logOut = () => ({\r\n  type: act.LOG_OUT,\r\n  info: \"\",\r\n});\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { browse } from \"../store/action\";\r\n\r\nexport default function Navbar({ navs, dispatch }) {\r\n  return (\r\n    <nav className=\"container-fluid navbar navbar-expand-lg navbar-light shadow-sm mb-4 myNav\">\r\n      <div className=\"container\">\r\n        <div to=\"/\" className=\"nav-item nav-link\">\r\n          LOGOS\r\n        </div>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNav\"\r\n          aria-controls=\"navbarNav\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          {_.partition(navs, (route) => !/^(Log|Sign)/g.test(route)).map(\r\n            (nav, idx) => (\r\n              <ul className={`navbar-nav ${\"ml-auto\".repeat(idx)}`}>\r\n                {nav.map((link) => (\r\n                  <Link to={\"/\" + link} key={link} className=\"nav-item\">\r\n                    <div className=\"nav-item nav-link\">{_.startCase(link)}</div>\r\n                  </Link>\r\n                ))}\r\n              </ul>\r\n            )\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction renderLink(link) {\r\n  return (\r\n    <NavLink key={link} to={`/${link}`} className=\"nav-item m-3\">\r\n      {_.startCase(link)}\r\n    </NavLink>\r\n  );\r\n}\r\n","import _ from \"lodash\";\r\n\r\nexport const connectives = [\"∧\", \"∨\", \"⇒\", \"⇔\", \"¬\"];\r\nexport const letters = [\"P\", \"Q\", \"R\", \"S\", \"T\", \"(\", \")\"];\r\nexport const greekLetters = [\"δ\", \"φ\", \"ψ\"];\r\n\r\nconst brk = /\\([^\\(]+?\\)/g;\r\nconst wwf = /\\([A-Z][∧∨⇒⇔][A-Z]\\)|[A-Z]¬+/g;\r\n\r\nexport const toArgFormat = ({ premises, conclusion }) =>\r\n  `${premises.join(\", \")} ⊢ ${conclusion}`;\r\n\r\nexport const isWWF = (formula) =>\r\n  wwf.test(formula)\r\n    ? isWWF(formula.replace(wwf, \"P\"))\r\n    : /^[A-Z]([∧∨⇒⇔][A-Z])?$/g.test(formula);\r\n\r\nexport const comparisonProp = (prop1, prop2) =>\r\n  sortProp(prop1) === sortProp(prop2);\r\n\r\nconst rankProp = (prop) => {\r\n  prop = cleanBrackets(prop);\r\n  let connective = findMainConnective(prop);\r\n  if (/^[A-Z]$/.test(connective)) {\r\n    return connective.charCodeAt(0) - 64;\r\n  }\r\n  return 91 + [\",\", ...greekLetters, \"¬\", ...connectives].indexOf(connective);\r\n};\r\n\r\nexport const sortProp = (prop) => {\r\n  if (prop.length === 1) return prop;\r\n  if (hasUnnesseryBrackets(prop)) return `(${sortProp(prop.slice(1, -1))})`;\r\n  let { connective, props } = splitProp(prop);\r\n  if (connective === \"¬\") return sortProp(props[0]) + \"¬\";\r\n  if (\"∧∨⇔\".includes(connective)) props.sort();\r\n  return props.map(sortProp).join(connective);\r\n};\r\nconst hasUnnesseryBrackets = (prop) =>\r\n  brk.test(prop) ? hasUnnesseryBrackets(prop.replace(brk, \"\")) : !prop;\r\n\r\nexport const cleanBrackets = (prop) =>\r\n  hasUnnesseryBrackets(prop) ? prop.slice(1, -1) : prop;\r\n\r\nexport const addBracket = (prop) =>\r\n  _.initial(connectives).includes(findMainConnective(prop))\r\n    ? `(${prop})`\r\n    : prop;\r\n\r\nexport const findMainIndex = (prop) =>\r\n  brk.test(prop)\r\n    ? findMainIndex(prop.replace(brk, (sub) => \"_\".repeat(sub.length)))\r\n    : prop.search(/[∧∨⇒⇔]|.$/);\r\n\r\nexport const findMainConnective = (prop) => prop[findMainIndex(prop)];\r\n\r\nexport const splitProp = (prop) => {\r\n  if (prop.includes(\", \")) {\r\n    return { connective: \",\", props: prop.split(\", \") };\r\n  }\r\n  let idx = findMainIndex(prop);\r\n  let connective = prop[idx];\r\n  let props = [prop.slice(0, idx)];\r\n  if (connective !== \"¬\") props.push(prop.slice(idx + 1));\r\n  return {\r\n    connective,\r\n    props,\r\n  };\r\n};\r\nconst unionDicts = (dicts) => {\r\n  let union = {};\r\n  for (let dict of dicts) {\r\n    if (_.isNil(dict)) return null;\r\n    for (let [key, val] of _.entries(dict)) {\r\n      if (!(key in union)) union[key] = val;\r\n      else if (!comparisonProp(union[key], val)) return null;\r\n    }\r\n  }\r\n\r\n  return union;\r\n};\r\nconst getDict = (prop, schema) => {\r\n  if (prop === null) return null;\r\n  [prop, schema] = [prop, schema].map(cleanBrackets);\r\n  if (greekLetters.includes(schema)) {\r\n    return { [schema]: sortProp(prop) };\r\n  }\r\n\r\n  let [\r\n    { connective, props },\r\n    { connective: schemaConnective, props: schemaProps },\r\n  ] = [prop, schema].map(splitProp);\r\n\r\n  if (connective !== schemaConnective) {\r\n    return null;\r\n  }\r\n\r\n  let dicts = unionDicts(\r\n    _.zip(props, schemaProps).map(([p, s]) => getDict(p, s))\r\n  );\r\n\r\n  if (_.isNil(dicts) && \"∧∨⇔\".includes(connective)) {\r\n    dicts = unionDicts(\r\n      _.zip(props.reverse(), schemaProps).map(([p, s]) => getDict(p, s))\r\n    );\r\n  }\r\n  return dicts;\r\n};\r\n\r\nexport const getConclusion = (props, schemas, conclusion) => {\r\n  console.log(props, schemas, conclusion);\r\n  if (_.isNil(props) && _.isNil(schemas)) {\r\n    return \"@\";\r\n  }\r\n  let dict = getDict(props.join(\", \"), schemas.join(\", \"));\r\n  console.log(dict);\r\n  //let dict = getDict(props, schemas.replace(\"...\", \", \"));\r\n  if (!dict) return null;\r\n  return conclusion.replace(/[δφψ]/g, (char, idx, str) => {\r\n    let prop = dict[char] ?? \"@\";\r\n    if (\r\n      [str[idx - 1], str[idx + 1]].some((char) => connectives.includes(char))\r\n    ) {\r\n      prop = addBracket(prop);\r\n    }\r\n    return prop;\r\n  });\r\n};\r\n\r\nconst convertToJS = {\r\n  \"∧\": \"&&\",\r\n  \"∨\": \"||\",\r\n  \"⇒\": \"<=\",\r\n  \"⇔\": \"==\",\r\n};\r\nexport const isProvable = (premises, conclusion) => {\r\n  premises = premises.concat(\"P⇒P\");\r\n  // convert any connective to the parallel JavaScript operator\r\n  let functionBody = `((${premises.join(\")&&(\")}))<=(${conclusion})`.replace(\r\n    /[∧∨⇒⇔]/g,\r\n    (connective) => convertToJS[connective]\r\n  );\r\n  // the '¬' connective need to be convert to the '!' operator and move from right to left\r\n  while (functionBody.includes(\"¬\")) {\r\n    functionBody = functionBody.replace(/(\\(.+\\)|[A-Z])¬/g, \"!$1\");\r\n  }\r\n  let atomicProps = _.uniq([...functionBody.replace(/[^A-Z]/g, \"\")]);\r\n  let trueTableFunc = new Function(...atomicProps, \"return \" + functionBody);\r\n  let colLen = atomicProps.length;\r\n  let rowLen = colLen ** 2;\r\n  return _.range(rowLen).every((col) => {\r\n    let bitwiseArr = [..._.pad(col.toString(2), colLen, \"0\")].map(_.parseInt);\r\n    return trueTableFunc(...bitwiseArr);\r\n  });\r\n};\r\nvar users = [\r\n  { user: \"fred\", age: 48 },\r\n  { user: \"barney\", age: 36 },\r\n  { user: \"fred\", age: 40 },\r\n  { user: \"barney\", age: 34 },\r\n];\r\n\r\nconsole.log(90);\r\nconsole.log(\r\n  _.sortBy(users, [\r\n    function (o) {\r\n      return o.user;\r\n    },\r\n  ])\r\n);\r\nconsole.log(users);\r\n","import React, { useContext } from \"react\";\r\nimport { GiBookCover, GiTeacher, GiLogicGateAnd } from \"react-icons/gi\";\r\nimport { MdCreate } from \"react-icons/md\";\r\nimport { RiSearchEyeLine } from \"react-icons/ri\";\r\nimport { ImHome } from \"react-icons/im\";\r\nimport { Context } from \"../App\";\r\nimport \"../utilize/logicFunc\";\r\n\r\nexport default function About({ history }) {\r\n  const {\r\n    name,\r\n    status,\r\n    teacherEmail,\r\n    dispatch,\r\n    queryStr,\r\n    ...state\r\n  } = useContext(Context);\r\n  return (\r\n    <div className=\"container-fluid container-md\">\r\n      <h2 className=\"text-center\">Hello {name} And Welcom To Logos</h2>\r\n      <div\r\n        className=\"mt-3 row justify-content-center\"\r\n        onClick={() => history.push(\"/help\")}\r\n      >\r\n        <div className=\"col-12 col-md-6 btn btn-info d-flex\">\r\n          <p>\r\n            this site is a logic taturial from learning natural deduction of\r\n            propositional calculus. If you do not familiar whit the subject it\r\n            is recommended that you read the guide first.\r\n          </p>\r\n          <div>\r\n            <GiBookCover size=\"7rem\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"mt-3 row justify-content-center\"\r\n        onClick={() => history.push(\"/examples\")}\r\n      >\r\n        <div className=\"col-12 col-md-6 btn btn-info d-flex\">\r\n          <div>\r\n            <GiTeacher size=\"7rem\" />\r\n          </div>\r\n          <p>\r\n            After reading the guide, you can start implementing what you have\r\n            learned and solving the examples on the site. Note: As long as you\r\n            are not registered, your solution will not be saved in the system\r\n          </p>\r\n        </div>\r\n      </div>\r\n      {status === \"guest\" && (\r\n        <div\r\n          className=\"mt-3 row justify-content-center\"\r\n          onClick={() => history.push(\"/signin\")}\r\n        >\r\n          <div className=\"col-12 col-md-6 btn btn-info d-flex\">\r\n            <p>\r\n              You can register on the site as 'teacher' or 'student' of one of\r\n              the teacher. the teachers can create exercises for her student.\r\n              and\r\n            </p>\r\n            <div>\r\n              <GiLogicGateAnd size=\"7rem\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {status === \"teacher\" && (\r\n        <>\r\n          <div\r\n            className=\"mt-3 row justify-content-center\"\r\n            onClick={() => history.push(\"/eding\")}\r\n          >\r\n            <div className=\"col-12 col-md-6 btn btn-info d-flex\">\r\n              <p>\r\n                You can add and modify your students' homework. Note: The system\r\n                verifies that the formulas thet you inset are Well-formed and\r\n                the profs are profable.\r\n              </p>\r\n              <div>\r\n                <MdCreate size=\"7rem\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"mt-3 row justify-content-center\"\r\n            onClick={() => history.push(\"/tracking\")}\r\n          >\r\n            <div className=\"col-12 col-md-6 btn btn-info d-flex\">\r\n              <div>\r\n                <RiSearchEyeLine size=\"7rem\" />\r\n              </div>\r\n              <p className=\"align-middle\">\r\n                You can keep track of your students and see what percentage of\r\n                homework they have done.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      {status === \"student\" && (\r\n        <>\r\n          <div\r\n            className=\"mt-3 row justify-content-center\"\r\n            onClick={() => history.push(\"/homework\")}\r\n          >\r\n            <div className=\"col-12 col-md-6 btn btn-info d-flex\">\r\n              <p>you can start do your homework by click here.</p>\r\n              <div>\r\n                <ImHome size=\"7rem\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export const PHYSICAL_KEYBOARD_CHLICK = \"PHYSICAL_KEYBOARD_CHLICK\";\r\nexport const VIRTUAL_KEYBOARD_CHLICK = \"VIRTUAL_KEYBOARD_CHLICK\";\r\n\r\nexport const ADD_PREMISE = \"ADD_PREMISE\";\r\nexport const REPLACE_PREMISE = \"REPLACE_PREMISE\";\r\nexport const DELETE_PREMISE = \"DELETE_PREMISE\";\r\nexport const MARKED_PREMISE = \"MARKED_PREMISE\";\r\nexport const SWITCH_PREMISES = \"SWITCH_PREMISES\";\r\n\r\nexport const ADD_CONCLUSION = \"ADD_CONCLUSION\";\r\nexport const REPLACE_CONCLUSION = \"REPLACE_CONCLUSION\";\r\nexport const DELETE_CONCLUSION = \"DELETE_CONCLUSION\";\r\n\r\nexport const ADD_ARGUMENT = \"ADD_ARGUMENT\";\r\nexport const REPLACE_ARGUMENT = \"REPLACE_ARGUMENT\";\r\nexport const MARKED_ARGUMENT = \"MARKED_ARGUMENT\";\r\n\r\nexport const GO_TO_INDEX = \"GO_TO_INDEX\";\r\n","import * as act from \"./actionType\";\r\n\r\nexport const physicalKeyboardClick = (value) => ({\r\n  type: act.PHYSICAL_KEYBOARD_CHLICK,\r\n  info: \"\",\r\n  payload: value,\r\n});\r\n\r\nexport const virtualKeyboardClick = (char) => ({\r\n  type: act.VIRTUAL_KEYBOARD_CHLICK,\r\n  info: \"\",\r\n  payload: char,\r\n});\r\n\r\nexport const addPremise = () => ({\r\n  type: act.ADD_PREMISE,\r\n  info: \"\",\r\n});\r\n\r\nexport const replacePremise = (idx) => ({\r\n  type: act.REPLACE_PREMISE,\r\n  info: \"\",\r\n  payload: typeof idx === \"number\" ? idx : undefined,\r\n});\r\n\r\nexport const deletePremise = (idx) => ({\r\n  type: act.DELETE_PREMISE,\r\n  info: \"\",\r\n  payload: idx,\r\n});\r\n\r\nexport const markedPremise = (idx) => ({\r\n  type: act.MARKED_PREMISE,\r\n  info: \"\",\r\n  payload: idx,\r\n});\r\n\r\nexport const switchPremises = (idx) => ({\r\n  type: act.SWITCH_PREMISES,\r\n  info: \"\",\r\n  payload: idx,\r\n});\r\n\r\nexport const addConclusion = () => ({\r\n  type: act.ADD_CONCLUSION,\r\n  info: \"\",\r\n});\r\nexport const replaceConclusion = () => ({\r\n  type: act.REPLACE_CONCLUSION,\r\n  info: \"\",\r\n});\r\nexport const deleteConclusion = () => ({\r\n  type: act.DELETE_CONCLUSION,\r\n  info: \"\",\r\n});\r\n\r\nexport const addArgument = (payload) => ({\r\n  type: act.ADD_ARGUMENT,\r\n  info: \"\",\r\n  payload,\r\n});\r\n\r\nexport const replaceArgument = (payload) => ({\r\n  type: act.REPLACE_ARGUMENT,\r\n  info: \"\",\r\n  payload,\r\n});\r\nexport const markedArgument = (lesson, exercise) => ({\r\n  type: act.MARKED_ARGUMENT,\r\n  info: \"\",\r\n  payload: { lesson, exercise },\r\n});\r\nexport const goToIndex = () => ({\r\n  type: act.GO_TO_INDEX,\r\n  info: \"\",\r\n});\r\n","import React, { useState, useMemo } from \"react\";\r\nimport _ from \"lodash\";\r\nimport { connectives, letters } from \"../../utilize/logicFunc\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  physicalKeyboardClick,\r\n  virtualKeyboardClick,\r\n} from \"../eding/store/action\";\r\n\r\nexport default function Keyboard({ dispatch, formula, actions, payload = [] }) {\r\n  return (\r\n    <div className=\"d-flex flex-column justify-content-center\">\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"text\"\r\n        value={formula}\r\n        onChange={({ currentTarget: { value } }) => {\r\n          dispatch(\r\n            physicalKeyboardClick(\r\n              value\r\n                .toUpperCase()\r\n                .replace(illegalChar, (char) => connectives[char - 1] ?? \"\")\r\n            )\r\n          );\r\n        }}\r\n      />\r\n\r\n      <div className=\"container-sm container-fluid\">\r\n        <div className=\"row justify-content-center\">\r\n          {connectives.map((connective, idx) => (\r\n            <div\r\n              className=\"col position-relative btn btn-outline-info m-1\"\r\n              key={connective}\r\n              id={connective}\r\n              onClick={() => dispatch(virtualKeyboardClick(connective))}\r\n            >\r\n              <div\r\n                className=\"position-absolute m-0\"\r\n                style={{ left: \"0\", top: \"0\" }}\r\n              >\r\n                {idx + 1}\r\n              </div>\r\n              <div>{connective}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"row justify-content-center\">\r\n          {letters.map((letter) => (\r\n            <div\r\n              className=\"col btn btn-outline-info m-1\"\r\n              key={letter}\r\n              id={letter}\r\n              onClick={() => dispatch(virtualKeyboardClick(letter))}\r\n            >\r\n              {letter}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"row justify-content-center\">\r\n          {actions.map((action) => (\r\n            <div\r\n              key={action}\r\n              className=\"col btn btn-outline-info m-1\"\r\n              onClick={() => dispatch(action(payload))}\r\n            >\r\n              {action().type.toLowerCase().replace(\"_\", \" \")}\r\n            </div>\r\n          ))}\r\n          <div\r\n            className=\"col-2 btn btn-outline-info m-1\"\r\n            onClick={() => {\r\n              dispatch(physicalKeyboardClick(\"\"));\r\n            }}\r\n          >\r\n            clear\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst illegalChar = /[^∧∨⇒⇔¬A-Z\\(\\)]/g;\r\n\r\nasync function* myIter() {\r\n  yield 4;\r\n}\r\n\r\n//[\"∧\", \"∨\", \"⇒\", \"⇔\", \"¬\"]\r\n\r\n/* onChange={({ currentTarget: { value } }) =>\r\n          dispatch({\r\n            type: \"PHYSICAL_KEYBOARD_CHLICK\",\r\n            payload: value\r\n              .toUpperCase()\r\n              .replace(illegalChar, (char) => connectives[char - 1] ?? \"\"),\r\n          })\r\n        } */\r\n","import React from \"react\";\r\nimport Keboard from \"./common/keyboard\";\r\nimport \"../utilize/logicFunc\";\r\n\r\nexport default function Help() {\r\n  return (\r\n    <section className=\"\">\r\n      {\" \"}\r\n      <section>\r\n        <h1>Guide</h1>\r\n        <h3>\r\n          If you did not understand what the hell this site is, you have come to\r\n          the right place\r\n        </h3>\r\n        <p>\r\n          This site is a logic study tutorial, which focuses on natural\r\n          deduction for \"Propositional Calculus\". Already now you can try to\r\n          solve the exercises below the \"examples\" but as long as you are not\r\n          registered, your will not be saved in the system. To do this, you must\r\n          register under the \"Register\" tab. You can register as a teacher and\r\n          thus you will have the ability to create exercises yourself in natural\r\n          deduction. Or register as a student of one of the teachers and then\r\n          you will be able to solve the exercises that the same teacher creates.\r\n          But before all that, you need to be proficient in natural deduction,\r\n          for that I have compiled this short guide.\r\n        </p>\r\n      </section>\r\n      <section>\r\n        <h2>What is \"Propositional calculus\"?</h2>\r\n        <p>\r\n          Propositional calculus is a branch of logic. It is also called\r\n          propositional logic, statement logic, sentential calculus, sentential\r\n          logic, or sometimes zeroth-order logic. It deals with propositions\r\n          (which can be true or false) and relations between propositions,\r\n          including the construction of arguments based on them. Compound\r\n          propositions are formed by connecting propositions by logical\r\n          connectives. Propositions that contain no logical connectives are\r\n          called atomic propositions.\r\n        </p>\r\n        <p>\r\n          In this table you can see the list of logical conectives. For those of\r\n          you who are familiar whit coding, they are probably be familiar:\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Syntax</th>\r\n                <th>name</th>\r\n                <th>world</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>∧</td>\r\n                <td>conjunction</td>\r\n                <td>and</td>\r\n              </tr>\r\n              <tr>\r\n                <td>∨</td>\r\n                <td>disjunction</td>\r\n                <td>or</td>\r\n              </tr>\r\n              <tr>\r\n                <td>⇒</td>\r\n                <td>implication</td>\r\n                <td>if</td>\r\n              </tr>\r\n              <tr>\r\n                <td>⇔</td>\r\n                <td>biconditional</td>\r\n                <td>if and only if</td>\r\n              </tr>\r\n              <tr>\r\n                <td>¬</td>\r\n                <td>negation</td>\r\n                <td>not</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </p>\r\n      </section>\r\n      <section>\r\n        <h2>What is \"Natural deduction\"?</h2>\r\n        <p>\r\n          In logic and proof theory, natural deduction is a kind of proof\r\n          calculus in which logical reasoning is expressed by inference rules\r\n          closely related to the \"natural\" way of reasoning. This contrasts with\r\n          Hilbert-style systems, which instead use axioms as much as possible to\r\n          express the logical laws of deductive reasoning.\r\n        </p>\r\n        <div>\r\n          In this tutorial you must be familiar with the following inference\r\n          rules:\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Syntax</th>\r\n                <th>Name</th>\r\n                <th>Schema</th>\r\n                <th>Description</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <th>I∧</th>\r\n                <td>Introduction Conjunction</td>\r\n                <td>δ, φ ⊢ δ∧φ</td>\r\n                <td>Choose 2 propositionals and Connect them with '∧'</td>\r\n              </tr>\r\n              <tr>\r\n                <th>E∧</th>\r\n                <td>Elimination Conjunction</td>\r\n                <td>δ∧φ ⊢ δ, φ</td>\r\n                <td>\r\n                  Choose 1 propositional with main connective '∧' and separate\r\n                  them the one side of it\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>I∨</th>\r\n                <td>Introduction Disjunction</td>\r\n                <td>δ ⊢ δ∨φ</td>\r\n                <td>\r\n                  Choose 1 propositional and create another one, incert ∨ bitwin\r\n                  them\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>E∨</th>\r\n                <td>Elimination Disjunction</td>\r\n                <td>δVφ, δ⇒ψ, φ⇒ψ ⊢ ψ</td>\r\n                <td>Choose 3 propositional whit main conective V,⇒,⇒</td>\r\n              </tr>\r\n              <tr>\r\n                <th>I⇒</th>\r\n                <td>Introduction Implication</td>\r\n                <td>δ...φ ⊢ δ⇒φ</td>\r\n                <td>Choose 2 propositional and incert ⇒</td>\r\n              </tr>\r\n              <tr>\r\n                <th>E⇒</th>\r\n                <td>Elimination Implication</td>\r\n                <td>δ, δ⇒φ ⊢ φ</td>\r\n                <td>\r\n                  Choose 2 propositional one whit ⇒ conective and return the\r\n                  sifa\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>I⇔</th>\r\n                <td>Introduction Biconditional</td>\r\n                <td>δ⇒φ, φ⇒δ ⊢ δ⇔φ</td>\r\n                <td>\r\n                  Choose 2 propositional whit main conective ⇒ and replace whit\r\n                  ⇔\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>E⇔</th>\r\n                <td>Elimination Biconditional</td>\r\n                <td>δ⇔φ ⊢ δ⇒φ, φ⇒δ</td>\r\n                <td>\r\n                  Choose 1 propositional whit main conective ⇔ and replace the\r\n                  conective whit ⇒\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>I¬</th>\r\n                <td>Introduction Negation</td>\r\n                <td>δ...φ¬∧φ ⊢ δ¬</td>\r\n                <td>\r\n                  Choose 2 propositional thet the one is an explicit\r\n                  contradiction and add ¬ to the second\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>E¬</th>\r\n                <td>Elimination Negation</td>\r\n                <td>δ¬¬ ⊢ δ</td>\r\n                <td>\r\n                  Choose 1 propositional whit main conective ¬¬ and clear it\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>Hyp</th>\r\n                <td>Hypothesis</td>\r\n                <td> ⊢ δ</td>\r\n                <td>Create a hypothesis in a new block</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Rep</th>\r\n                <td>Repeat</td>\r\n                <td>δ ⊢ δ</td>\r\n                <td>Choose 1 propositional and Insert it to the last bloack</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n    </section>\r\n  );\r\n}\r\n","export const INFERENCE = \"INFERENCE\";\r\n\r\nexport const MARKED_PROP = \"MARKED_PROP\";\r\n\r\nexport const GO_BACK = \"GO_BACK\";\r\n\r\nexport const ADD = \"ADD\";\r\n\r\nexport const ADD_FROM_POPUP = \"ADD_FROM_POPUP\";\r\n\r\nexport const FINISH = \"FINISH\";\r\n","import _ from \"lodash\";\r\nimport * as act from \"./types\";\r\nimport {\r\n  PHYSICAL_KEYBOARD_CHLICK,\r\n  VIRTUAL_KEYBOARD_CHLICK,\r\n} from \"../../eding/store/actionType\";\r\nimport { isWWF, addBracket, cleanBrackets } from \"../../../utilize/logicFunc\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst wwfChack = (formula) => {\r\n  if (isWWF(formula)) return false;\r\n  toast.error(\"Formula is not Well-formed\");\r\n  return true;\r\n};\r\n\r\n//proposition, rationale, indentation, isMarked\r\nexport const init = (premises) => ({\r\n  prof: premises.map((premise) => ({\r\n    proposition: premise,\r\n    rationale: \"Prem\",\r\n    indentation: 0,\r\n    isMarked: false,\r\n  })),\r\n  model: null,\r\n  isFinish: false,\r\n  formula: \"\",\r\n});\r\n\r\nexport const reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case PHYSICAL_KEYBOARD_CHLICK:\r\n      return {\r\n        ...state,\r\n        formula: payload,\r\n      };\r\n    case VIRTUAL_KEYBOARD_CHLICK:\r\n      return {\r\n        ...state,\r\n        formula: state.formula + payload,\r\n      };\r\n    case act.ADD:\r\n      let { formula } = state;\r\n      if (!isWWF(formula)) {\r\n        toast.error(\"Formula is not Well-formed\");\r\n        return state;\r\n      }\r\n      if (state.model.rationale !== \"Hyp\") {\r\n        formula = addBracket(formula);\r\n      } else {\r\n        formula = cleanBrackets(formula);\r\n      }\r\n      return {\r\n        ...state,\r\n        formula: \"\",\r\n        model: null,\r\n        prof: state.prof.concat({\r\n          ...state.model,\r\n          proposition: state.model.proposition.replace(\"@\", formula),\r\n        }),\r\n      };\r\n    case act.ADD_FROM_POPUP:\r\n      console.log(payload);\r\n      return {\r\n        ...state,\r\n        model: null,\r\n        prof: state.prof.concat({\r\n          ...state.model,\r\n          proposition: payload,\r\n        }),\r\n      };\r\n    case act.MARKED_PROP:\r\n      return {\r\n        ...state,\r\n        model: null,\r\n        prof: state.prof.map((prop, idx) =>\r\n          idx === payload ? { ...prop, isMarked: !prop.isMarked } : prop\r\n        ),\r\n      };\r\n    case act.INFERENCE:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n    case act.GO_BACK:\r\n      if (!state.prof.length || _.last(state.prof).rationale === \"Prem\") {\r\n        toast(\"you can't go back anymor\");\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        model: null,\r\n        prof: _.initial(state.prof),\r\n      };\r\n    case act.FINISH:\r\n      return {\r\n        ...state,\r\n        isFinish: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as act from \"./types\";\r\n\r\nexport const add = () => ({\r\n  type: act.ADD,\r\n  info: \"\",\r\n});\r\n\r\nexport const addFromPopup = (option) => ({\r\n  type: act.ADD_FROM_POPUP,\r\n  info: \"\",\r\n  payload: option,\r\n});\r\n\r\nexport const markedProp = (idx) => ({\r\n  type: act.MARKED_PROP,\r\n  info: \"\",\r\n  payload: idx,\r\n});\r\n\r\nexport const inference = (newLine) => ({\r\n  type: act.INFERENCE,\r\n  info: \"\",\r\n  payload: newLine,\r\n});\r\n\r\nexport const goBack = () => ({\r\n  type: act.GO_BACK,\r\n  info: \"\",\r\n});\r\n\r\nexport const finish = () => ({\r\n  type: act.FINISH,\r\n  info: \"\",\r\n});\r\n","import React from \"react\";\r\nimport { addFromPopup } from \"../exercise/store/actions\";\r\n\r\nexport default function Popup({ dispatch, options }) {\r\n  return (\r\n    <div className=\"container w-50 bg-info card mb-3\">\r\n      <h4 className=\"row justify-content-around text-light\">\r\n        choose betwin the option\r\n      </h4>\r\n      <div className=\"row justify-content-around text-light\">\r\n        {options.map((option) => (\r\n          <button\r\n            key={option}\r\n            className=\"col-4 mb-3 btn btn-warning text-info\"\r\n            onClick={() => dispatch(addFromPopup(option))}\r\n          >\r\n            {option}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport _, { split } from \"lodash\";\r\nimport {\r\n  findMainConnective,\r\n  findMainIndex,\r\n  getConclusion,\r\n  splitProp,\r\n} from \"../utilize/logicFunc\";\r\nimport rules from \"./rules.json\";\r\n\r\nclass InferenceRules {\r\n  constructor(name, { schema, info }) {\r\n    let [premises, conclusion] = schema.split(\" ⊢ \");\r\n    this.name = name;\r\n    this.schema = schema;\r\n    this.info = info;\r\n    this.premises = premises;\r\n    this.conclusion = conclusion;\r\n    this.indentationChange = (name === \"Hyp\") - schema.includes(\"...\");\r\n    premises = _.compact(premises.split(/, |\\.\\.\\./g));\r\n    this.len = premises.length;\r\n    this.mainConnectives = premises\r\n      .filter((str) => str.length !== 1)\r\n      .map(findMainConnective);\r\n  }\r\n  lengthCheck(len) {\r\n    if (this.len !== len) {\r\n      let s = \"s\".repeat(this.len === 1);\r\n      return `'${this.name}' run on ${this.len} proposition${s}, but you marked ${len}`;\r\n    }\r\n  }\r\n  blockCheck(prof) {\r\n    let idx = _.findIndex(prof, \"isMarked\");\r\n    let { indentation: inde } = this.name === \"Rep\" ? prof[idx] : _.last(prof);\r\n    if (\r\n      prof\r\n        .slice(idx)\r\n        .some(({ indentation, isMarked }) =>\r\n          isMarked ? indentation !== inde : indentation < inde\r\n        )\r\n    ) {\r\n      return \"wong bloack\";\r\n    }\r\n  }\r\n  mainConnectivesCheck(premises) {\r\n    let mainConnectives = premises.map(findMainConnective);\r\n    if (_.difference(this.mainConnectives, mainConnectives).length) {\r\n      return `${\r\n        this.name\r\n      } run on propositions whit main conectives: '${this.mainConnectives.join(\r\n        \"' '\"\r\n      )}', you marked prop whit main conective ${mainConnectives.join(\", \")}`;\r\n    }\r\n  }\r\n\r\n  indentationDownChack(prof) {\r\n    if (this.indentationChange !== -1) return;\r\n    if (_.find(prof, \"isMarked\").rationale !== \"Hyp\") {\r\n      return `for '${this.name}', the first proposition's rational need to be 'Hyp' .'`;\r\n    }\r\n    if (!_.last(prof).isMarked) {\r\n      return `for '${this.name}, you need to mark the last proposition'`;\r\n    }\r\n  }\r\n\r\n  sortPremises(markedProps) {\r\n    console.log(this.name, markedProps);\r\n\r\n    if (this.name === \"E∨\") {\r\n      if (markedProps.length !== 3) {\r\n        return markedProps;\r\n      }\r\n      markedProps.sort(\r\n        ({ proposition: p1 }, { proposition: p2 }) =>\r\n          +(findMainConnective(p1) === \"∨\" && findMainConnective(p2) !== \"∨\")\r\n      );\r\n      let main = +findMainIndex(markedProps[1].proposition);\r\n      main = markedProps[1].proposition.slice(0, main);\r\n      if (markedProps[0].proposition.endsWith(main)) {\r\n        [markedProps[2], markedProps[1]] = [markedProps[1], markedProps[2]];\r\n      }\r\n      console.log(markedProps);\r\n      return markedProps;\r\n    }\r\n    if (this.name === \"E⇒\") {\r\n      return markedProps.sort(\r\n        ({ proposition: p1 }, { proposition: p2 }) => p1.length - p2.length\r\n      );\r\n    }\r\n    return markedProps;\r\n  }\r\n\r\n  interfer(prof) {\r\n    let markedProps = this.sortPremises(\r\n      _.compact(\r\n        prof.map(\r\n          ({ proposition, isMarked, ...rest }, idx) =>\r\n            isMarked && { proposition, ...rest, idx }\r\n        )\r\n      )\r\n    );\r\n\r\n    let premises = _.map(markedProps, \"proposition\");\r\n\r\n    let err =\r\n      this.lengthCheck(markedProps.length) ??\r\n      this.blockCheck(prof) ??\r\n      this.mainConnectivesCheck(premises) ??\r\n      this.indentationDownChack(prof);\r\n\r\n    if (err) return err;\r\n    console.log(premises, this.premises.split(/, |\\.\\.\\./g), this.conclusion);\r\n    let proposition =\r\n      this.name === \"Hyp\"\r\n        ? \"@\"\r\n        : getConclusion(\r\n            premises,\r\n            this.premises.split(/, |\\.\\.\\./g),\r\n            this.conclusion\r\n          );\r\n\r\n    let newLine = {\r\n      proposition,\r\n      rationale:\r\n        this.name +\r\n        `(${markedProps.map(({ idx }) => idx + 1).join(\", \")})`.repeat(\r\n          this.name !== \"Hyp\"\r\n        ),\r\n      indentation: _.last(prof).indentation + this.indentationChange,\r\n      isMarked: false,\r\n    };\r\n\r\n    prof = prof.map((line) => ({ ...line, isMarked: false }));\r\n    if (/[,@]/.test(proposition)) {\r\n      return { prof, model: newLine };\r\n    }\r\n    return {\r\n      prof: prof.concat(newLine),\r\n      model: null,\r\n    };\r\n  }\r\n}\r\n\r\nlet arr = _.map(rules, (data, name) => new InferenceRules(name, data));\r\nexport default arr;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { RiArrowGoBackLine } from \"react-icons/ri\";\r\nimport _ from \"lodash\";\r\nimport Keboard from \"../common/keyboard\";\r\nimport { reducer, init } from \"./store/reducer\";\r\nimport * as act from \"./store/actions\";\r\nimport { request } from \"../../store/action\";\r\n\r\nimport {\r\n  toArgFormat,\r\n  findMainConnective,\r\n  addBracket,\r\n  comparisonProp,\r\n} from \"../../utilize/logicFunc\";\r\nimport Popup from \"../common/Popup\";\r\nimport { Context } from \"../../App\";\r\nimport rules from \"../../rules/inferenceRules\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function Prof({ premises, conclusion, _id, index, pathname }) {\r\n  console.log(conclusion);\r\n  const { httpDispatch, status } = useContext(Context);\r\n  const [{ prof, model, isFinish, formula }, dispatch] = useReducer(\r\n    reducer,\r\n    premises,\r\n    init\r\n  );\r\n  useEffect(() => {\r\n    const { indentation, proposition } = _.last(prof);\r\n    console.table({ proposition, conclusion });\r\n\r\n    if (isFinish || indentation || !comparisonProp(proposition, conclusion)) {\r\n      return;\r\n    }\r\n    dispatch(act.finish());\r\n    toast.success(\r\n      \"bravo!!!\" +\r\n        \" your anser send to the server\".repeat(!!_id && status !== \"guest\")\r\n    );\r\n    if (_id && status !== \"guest\") {\r\n      httpDispatch(request(\"completed\", { _id, prof }));\r\n    }\r\n  }, [prof]);\r\n\r\n  return (\r\n    <>\r\n      <h2>{pathname.slice(1).replace(\"s\", \"\") + \" \" + index}</h2>\r\n      <h3 className=\"text-success\">\r\n        {(isFinish && \" finish\") || (!_id && \" exerises allredy finish\")}\r\n      </h3>\r\n      <h4 className=\"text-center text-dark\">\r\n        {toArgFormat({ premises, conclusion })}\r\n      </h4>\r\n      {model &&\r\n        (model.proposition.includes(\"@\") ? (\r\n          <Keboard dispatch={dispatch} actions={[act.add]} formula={formula} />\r\n        ) : (\r\n          <Popup dispatch={dispatch} options={model.proposition.split(\", \")} />\r\n        ))}\r\n      <div className=\"container-fluid d-flex flex-row flex-md-nowrap flex-wrap\">\r\n        <table className=\"p-2 block table\">\r\n          <thead className=\"\">\r\n            <tr>\r\n              <th\r\n                scope=\"col\"\r\n                style={{ width: \"15%\" }}\r\n                onClick={() => dispatch(act.goBack())}\r\n              >\r\n                <RiArrowGoBackLine />\r\n              </th>\r\n              <th scope=\"col\" style={{ width: \"70%\" }}>\r\n                proposition\r\n              </th>\r\n              <th scope=\"col\">rationale</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {prof.map(\r\n              ({ proposition, rationale, indentation, isMarked }, idx) => (\r\n                <tr\r\n                  key={idx}\r\n                  style={{ cursor: \"pointer\" }}\r\n                  className={\"bg-info text-light\".repeat(isMarked)}\r\n                  onClick={() => dispatch(act.markedProp(idx))}\r\n                >\r\n                  <th scope=\"row\">{`${idx + 1}.`}</th>\r\n                  <td style={{ textIndent: `${indentation}em` }}>\r\n                    {proposition}\r\n                  </td>\r\n                  <td>{rationale}</td>\r\n                </tr>\r\n              )\r\n            )}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div\r\n          className=\"d-flex flex-md-row flex-column flex-wrap m-0\"\r\n          style={{ flexShrink: \"4\", flexBasis: \"100%\", height: \"200px\" }}\r\n        >\r\n          {rules.map((rule) => (\r\n            <div\r\n              key={rule.name}\r\n              style={{ width: \"12%\" }}\r\n              className=\"btn btn-outline-info col-4 m-2 container d-flex align-items-center justify-content-center\"\r\n              title={rule.schema}\r\n              onClick={() => {\r\n                let newState = rule.interfer(prof);\r\n                if (typeof newState === \"string\") {\r\n                  return toast.error(newState);\r\n                }\r\n                dispatch(act.inference(newState));\r\n              }}\r\n            >\r\n              <div>{rule.name}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { browse } from \"../../store/action\";\r\nimport { toArgFormat } from \"../../utilize/logicFunc\";\r\n\r\nimport { Context } from \"../../App\";\r\n\r\nexport default function ExercisesIndex({ lessons, history, pathname }) {\r\n  const { dispatch } = useContext(Context);\r\n  const [hoverExercise, setHoverExercise] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      <h2>{pathname.slice(1)}</h2>\r\n      <h3 style={{ height: \"40px\" }}>{hoverExercise}</h3>\r\n      <table>\r\n        <tbody onMouseLeave={() => setHoverExercise(\"\")}>\r\n          {lessons.map((lesson, idxLesson) => (\r\n            <tr key={idxLesson + 1}>\r\n              <th className=\"\" onMouseEnter={() => setHoverExercise(\"\")}>\r\n                Lesson {idxLesson + 1}\r\n              </th>{\" \"}\r\n              {lesson.map(({ _id, ...arg }, idxExercise) => {\r\n                return (\r\n                  <td\r\n                    key={`${idxLesson + 1}.${idxExercise + 1}`}\r\n                    onClick={() =>\r\n                      history.push(\r\n                        `${pathname}?lesson=${idxLesson + 1}&exercise=${\r\n                          idxExercise + 1\r\n                        }`\r\n                      )\r\n                    }\r\n                  >\r\n                    <button\r\n                      className={`btn btn-${_id ? \"secondary\" : \"success\"}`}\r\n                      data-toggle=\"tooltip\"\r\n                      data-placement=\"top\"\r\n                      title={toArgFormat(arg)}\r\n                      onMouseEnter={({ target: { title } }) =>\r\n                        setHoverExercise(title)\r\n                      }\r\n                    >\r\n                      {idxExercise + 1}\r\n                    </button>\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport _ from \"lodash\";\r\nimport { parse } from \"query-string\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport { Context } from \"../../App\";\r\nimport Prof from \"./Prof\";\r\nimport ExercisesIndex from \"./Index\";\r\nimport { browse, putQueryStr } from \"../../store/action\";\r\n\r\n/* lesson: null,\r\n        exercise: null */\r\nexport default function ExerciseRoute({\r\n  location: { pathname, search },\r\n  history,\r\n}) {\r\n  const { [pathname.slice(1).toLowerCase()]: lessons } = useContext(Context);\r\n  if (!lessons) return <Redirect to=\"/About\" />;\r\n  let { lesson, exercise } = parse(search);\r\n  if (_.isNil(lesson) && _.isNil(exercise)) {\r\n    return (\r\n      <ExercisesIndex lessons={lessons} history={history} pathname={pathname} />\r\n    );\r\n  }\r\n  let prof = lessons?.[lesson - 1]?.[exercise - 1];\r\n  if (!prof) return <Redirect to={`/${pathname}`} />;\r\n  return <Prof {...prof} index={`${lesson}.${exercise}`} pathname={pathname}/>;\r\n}\r\n\r\n/* const title = pathname.slice(1);\r\nconst lessons = useContext(Context)[title];\r\nif (!lessons) return <Redirect to=\"/\" />;\r\nconst { lesson, exercise } = parse(search);\r\nconst prof = _.get(lessons, [lesson - 1, exercise - 1]);\r\nif (search && !prof) return <Redirect to={pathname} />;\r\n\r\nreturn search ? (\r\n  <Prof {...prof} index={`${lesson}.${exercise}`} />\r\n) : (\r\n  <ExercisesIndex {...{ lessons, history, pathname }} />\r\n); */\r\n","import React, { useState, useReducer } from \"react\";\r\nimport _ from \"lodash\";\r\nimport { BsArrowDown, BsArrowLeftRight } from \"react-icons/bs\";\r\nimport { VscTrash } from \"react-icons/vsc\";\r\nimport Keyboard from \"../common/keyboard\";\r\nimport * as act from \"./store/action\";\r\n\r\nexport default function CreateExerises({\r\n  dispatch,\r\n  premises,\r\n  conclusion,\r\n  marked,\r\n  lessonsIndex,\r\n  lesson,\r\n  exercise,\r\n  formula,\r\n  history,\r\n}) {\r\n  return (\r\n    <div>\r\n      <Keyboard\r\n        actions={[\r\n          marked === null ? act.addPremise : act.replacePremise,\r\n          !conclusion ? act.addConclusion : act.replaceConclusion,\r\n          _.has(lessonsIndex, [lesson - 1, exercise - 1])\r\n            ? act.replaceArgument\r\n            : act.addArgument,\r\n        ]}\r\n        dispatch={dispatch}\r\n        formula={formula}\r\n        payload={[lesson - 1, exercise - 1]}\r\n      />\r\n      <h4 className=\"text-center\" onClick={() => history.replace(\"/eding\")}>\r\n        replace exercise {exercise} in lesson {lesson}\r\n      </h4>\r\n      <div className=\"container-fluid\">\r\n        {premises.map((premise, idx) => (\r\n          <div\r\n            className={\r\n              `row mb-2 align-items-center line` +\r\n              \" font-weight-bold\".repeat(idx === marked)\r\n            }\r\n            style={{\r\n              ...(idx === marked && { border: \"0.1em solid black\" }),\r\n            }}\r\n            onClick={() => dispatch(act.markedPremise(idx))}\r\n            key={idx}\r\n            draggable={true}\r\n            onDragStart={() => dispatch(act.markedPremise(idx))}\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onDrop={() => dispatch(act.switchPremises(idx))}\r\n          >\r\n            <div className=\"col-1 text-dark\">{`${idx + 1}.`}</div>\r\n            <div className=\"col-6 text-dark\">{premise}</div>\r\n            <div\r\n              className=\"col-5 d-flex justify-content-end flex-fill text-dark\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {marked !== null && marked !== idx && (\r\n                <div\r\n                  className=\"myIcon\"\r\n                  onClick={() => dispatch(act.switchPremises(idx))}\r\n                >\r\n                  <BsArrowLeftRight />\r\n                </div>\r\n              )}\r\n              <div\r\n                className=\"myIcon\"\r\n                onClick={() => dispatch(act.replacePremise(idx))}\r\n              >\r\n                <BsArrowDown />\r\n              </div>\r\n              <div\r\n                className=\"myIcon\"\r\n                onClick={() => dispatch(act.deletePremise(idx))}\r\n              >\r\n                <VscTrash />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {conclusion && (\r\n          <div className=\"row mb-2 align-items-center line\">\r\n            <div className=\"col-1 text-dark\">⊢</div>\r\n            <div className=\"col-8 text-dark\">{conclusion}</div>\r\n            <div className=\"col-3 d-flex justify-content-end\">\r\n              <div\r\n                className=\"text-dark myIcon\"\r\n                onClick={() => dispatch(act.addConclusion())}\r\n              >\r\n                <BsArrowDown />\r\n              </div>\r\n              <div\r\n                className=\"text-dark myIcon\"\r\n                onClick={() => dispatch(act.deleteConclusion())}\r\n              >\r\n                <VscTrash />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { toArgFormat } from \"../../utilize/logicFunc\";\r\nimport { Context } from \"../../App\";\r\nimport { request } from \"../../store/action\";\r\n\r\nexport default function EditingIndex({ lessonsIndex, history }) {\r\n  const { httpDispatch } = useContext(Context);\r\n  const [hoverExercise, setHoverExercise] = useState(\"\");\r\n  let len = lessonsIndex.length;\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <h2>Eding</h2>\r\n      <h3 style={{ height: \"40px\" }}>{hoverExercise}</h3>\r\n      {lessonsIndex.map((lesson, idx1) => {\r\n        let len = lesson.length;\r\n        return (\r\n          <div key={`row${idx1}`} className=\"row\">\r\n            <div className=\"col-2\">\r\n              <div className=\"btn btn-info m-2\"> lesson {idx1 + 1}:</div>\r\n            </div>\r\n            {lesson.map((arg, idx2) => (\r\n              <button\r\n                title={toArgFormat(arg)}\r\n                key={`col${idx1}.${idx2}`}\r\n                className=\"col-1 myButton\"\r\n                onClick={() =>\r\n                  history.push(`eding?lesson=${idx1 + 1}&exercise=${idx2 + 1}`)\r\n                }\r\n                onMouseEnter={({ target: { title } }) =>\r\n                  setHoverExercise(title)\r\n                }\r\n                onMouseLeave={() => setHoverExercise(\"\")}\r\n              >\r\n                {idx2 + 1}\r\n              </button>\r\n            ))}\r\n            {len !== 10 && (\r\n              <div\r\n                className=\"col-1 myButton text-dark d-flex align-items-center justify-content-center\"\r\n                style={{ borderRadius: \"2em\" }}\r\n                onClick={() =>\r\n                  history.push(`eding?lesson=${idx1 + 1}&exercise=${len + 1}`)\r\n                }\r\n              >\r\n                +\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n      {len !== 10 && (\r\n        <div className=\"row\">\r\n          {\" \"}\r\n          <div\r\n            className=\"col-2\"\r\n            onClick={() => {\r\n              history.push(`eding?lesson=${len + 1}&exercise=${1}`);\r\n            }}\r\n          >\r\n            <div className=\"btn btn-info m-2 ml-4\">+</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"row d-flex justify-content-center\">\r\n        <div\r\n          className=\"btn btn-info col-3\"\r\n          onClick={() =>\r\n            httpDispatch(request(\"eding\", { lessons: lessonsIndex }))\r\n          }\r\n        >\r\n          Submit\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { toast } from \"react-toastify\";\r\nimport _ from \"lodash\";\r\nimport { parse } from \"query-string\";\r\nimport * as act from \"./actionType\";\r\nimport { isWWF, isProvable } from \"../../../utilize/logicFunc\";\r\n\r\nconst wwfChack = (formula) => {\r\n  if (isWWF(formula)) return false;\r\n  toast.error(\"Formula is not Well-formed\");\r\n  return true;\r\n};\r\n\r\nexport const init = (homework) => {\r\n  return {\r\n    lessonsIndex: _.cloneDeep(homework),\r\n    premises: [],\r\n    conclusion: \"\",\r\n    marked: null,\r\n    formula: \"\",\r\n  };\r\n};\r\n\r\nexport const reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case act.PHYSICAL_KEYBOARD_CHLICK:\r\n      return {\r\n        ...state,\r\n        formula: payload,\r\n      };\r\n    case act.VIRTUAL_KEYBOARD_CHLICK:\r\n      return {\r\n        ...state,\r\n        formula: state.formula + payload,\r\n      };\r\n    case act.ADD_PREMISE:\r\n      if (wwfChack(state.formula)) return state;\r\n      return {\r\n        ...state,\r\n        premises: state.premises.concat(state.formula),\r\n        formula: \"\",\r\n        marked: null,\r\n      };\r\n    case act.REPLACE_PREMISE:\r\n      toast(state.formula);\r\n      if (wwfChack(state.formula)) return state;\r\n      return {\r\n        ...state,\r\n        marked: null,\r\n        formula: \"\",\r\n        premises: state.premises.map((premise, idx) =>\r\n          idx === (payload ?? state.marked) ? state.formula : premise\r\n        ),\r\n      };\r\n    case act.DELETE_PREMISE:\r\n      return {\r\n        ...state,\r\n        marked: null,\r\n        premises: state.premises.filter((_, idx) => idx !== payload),\r\n      };\r\n    case act.MARKED_PREMISE:\r\n      return {\r\n        ...state,\r\n        marked: payload === state.marked ? null : payload,\r\n      };\r\n    case act.SWITCH_PREMISES:\r\n      return {\r\n        ...state,\r\n        marked: null,\r\n        premises: state.premises.map((premise, idx) =>\r\n          idx === state.marked\r\n            ? state.premises[payload]\r\n            : idx === payload\r\n            ? state.premises[state.marked]\r\n            : premise\r\n        ),\r\n      };\r\n    case act.ADD_CONCLUSION:\r\n      if (wwfChack(state.formula)) return { ...state };\r\n      return {\r\n        ...state,\r\n        marked: null,\r\n        formula: \"\",\r\n        conclusion: state.formula,\r\n      };\r\n    case act.DELETE_CONCLUSION:\r\n      return {\r\n        ...state,\r\n        conclusion: \"\",\r\n      };\r\n    case act.REPLACE_CONCLUSION:\r\n      console.log(89);\r\n      return {\r\n        ...state,\r\n        ...(!wwfChack(state.formula) && {\r\n          marked: null,\r\n          formula: \"\",\r\n          conclusion: state.formula,\r\n        }),\r\n      };\r\n    case act.ADD_ARGUMENT:\r\n      if (!state.conclusion) {\r\n        toast(`you can't send argument whitout conclusion`);\r\n      } else if (!isProvable(state.premises, state.conclusion)) {\r\n        toast(\"Unprovable argument\");\r\n      } else {\r\n        var lessonsIndex = [...state.lessonsIndex];\r\n        lessonsIndex[payload[0]] = (lessonsIndex[payload[0]] ?? []).concat(\r\n          _.pick(state, [\"premises\", \"conclusion\"])\r\n        );\r\n\r\n        return {\r\n          ...state,\r\n          lessonsIndex,\r\n          formula: \"\",\r\n          premises: [],\r\n          conclusion: \"\",\r\n        };\r\n      }\r\n\r\n      return state;\r\n\r\n    case act.REPLACE_ARGUMENT:\r\n      if (!state.conclusion) {\r\n        toast(`you can't send argument whitout conclusion`);\r\n      } else if (!isProvable(state.premises, state.conclusion)) {\r\n        toast(\"Unprovable argument\");\r\n      } else {\r\n        var lessonsIndex = [...state.lessonsIndex];\r\n        lessonsIndex[payload[0]] = [...lessonsIndex[payload[0]]];\r\n        _.set(lessonsIndex, payload, _.pick(state, [\"premises\", \"conclusion\"]));\r\n\r\n        return {\r\n          ...state,\r\n          lessonsIndex,\r\n          formula: \"\",\r\n          premises: [],\r\n          conclusion: \"\",\r\n        };\r\n      }\r\n\r\n      return state;\r\n\r\n    case act.MARKED_ARGUMENT:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n    case act.GO_TO_INDEX:\r\n      return {\r\n        ...state,\r\n        lesson: null,\r\n        exercise: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n/* case act.DELETE_PREMISE:\r\n      return {\r\n        ...state,\r\n        marked: null,\r\n        premises: state.premises.filter((_, idx) => idx !== payload),\r\n      };\r\n    case act.MARKED_PREMISE:\r\n      return {}; */\r\n","import React, { useReducer, useEffect, useContext } from \"react\";\r\nimport { Redirect, useHistory, useLocation } from \"react-router-dom\";\r\nimport { goToIndex } from \"./store/action\";\r\nimport CreateExerises from \"./Create\";\r\nimport Index from \"./Index\";\r\nimport _ from \"lodash\";\r\nimport { parse } from \"query-string\";\r\nimport { Context } from \"../../App\";\r\nimport { reducer, init } from \"./store/reducer\";\r\n\r\nexport default function EdingRoute({ location: { search }, history }) {\r\n  const { homework } = useContext(Context);\r\n  const [state, dispatch] = useReducer(reducer, homework, init);\r\n  const { lessonsIndex } = state;\r\n  useEffect(() => {\r\n    history.push(\"/eding\");\r\n  }, [lessonsIndex]);\r\n\r\n  const { lesson, exercise } = parse(search, { parseNumbers: true });\r\n  if (_.isNil(lesson) && _.isNil(exercise)) {\r\n    return <Index {...{ lessonsIndex, history }} />;\r\n  }\r\n  if (\r\n    lessonsIndex.length > lesson &&\r\n    lesson <= 0 &&\r\n    lessonsIndex[lesson].length > exercise &&\r\n    exercise <= 0\r\n  ) {\r\n    return <Redirect to=\"/eding\" />;\r\n  }\r\n  return (\r\n    <CreateExerises {...{ ...state, dispatch, lesson, exercise, history }} />\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport _ from \"lodash\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Context } from \"../App\";\r\n\r\nexport default function StudentsTracking() {\r\n  const { students, homework } = useContext(Context);\r\n  let len = _.sum(homework.map(_.size));\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"m-4 text-info\">Tracking</h2>\r\n      <table className=\"table table-striped text-center text-info\">\r\n        <thead>\r\n          <th scop=\"col\">Name</th>\r\n          <th scop=\"col\">Email</th>\r\n          <th scop=\"col\">Completed</th>\r\n          <th scop=\"col\">%</th>\r\n        </thead>\r\n        <tbody>\r\n          {students.map(([name, email, completed]) => {\r\n            let percent = ((100 * (completed / len)) | 0) + \"%\";\r\n            return (\r\n              <tr key={email}>\r\n                <th scop=\"row\">{name}</th>\r\n                <td>{email}</td>\r\n                <td>\r\n                  {completed}/{len}\r\n                </td>\r\n                <td>\r\n                  <div\r\n                    className=\"bg-danger text-dark\"\r\n                    style={{ borderRadius: \"5em\" }}\r\n                  >\r\n                    <div\r\n                      className=\"bg-success\"\r\n                      style={{ width: percent, textIndent: \"0.2em\" }}\r\n                    >\r\n                      <b>{percent}</b>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Context } from \"../App\";\r\nimport { logOut } from \"../store/action\";\r\n\r\nexport default function LogOut() {\r\n  const { httpDispatch } = useContext(Context);\r\n  localStorage.removeItem(\"token\");\r\n  httpDispatch(logOut());\r\n  return <div>LogOut</div>;\r\n}\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport * as yup from \"yup\";\r\n\r\nexport default function Input({\r\n  label,\r\n  type = label,\r\n  dispatch,\r\n  field: { value, error },\r\n}) {\r\n  return (\r\n    <div>\r\n      <label htmlFor={label}>{_.startCase(label)}</label>\r\n\r\n      <div className=\"input-group\">\r\n        <input\r\n          className=\"form-control\"\r\n          type={type}\r\n          value={value}\r\n          name={label}\r\n          id={label}\r\n          onChange={dispatch}\r\n        />\r\n      </div>\r\n      <div className=\"text-danger\">{error}</div>\r\n    </div>\r\n  );\r\n}\r\n","import Joi from \"joi-browser\";\r\n\r\nlet schema = {\r\n  email: Joi.string().required().email().label(\"Email\"),\r\n  password: Joi.string().required().min(6).label(\"Password\"),\r\n  name: Joi.string().required().min(2).label(\"Name\"),\r\n  teacherEmail: Joi.string().required().email().label(\"Email\"),\r\n};\r\n\r\nexport const init = (isSignUp) => ({\r\n  ...(isSignUp && {\r\n    name: {\r\n      value: \"\",\r\n      error: \"\",\r\n    },\r\n  }),\r\n  email: {\r\n    value: \"\",\r\n    error: \"\",\r\n  },\r\n\r\n  password: {\r\n    value: \"\",\r\n    error: \"\",\r\n  },\r\n  ...(isSignUp && {\r\n    teacherEmail: {\r\n      value: \"\",\r\n      error: \"\",\r\n    },\r\n    status: \"student\",\r\n  }),\r\n});\r\n\r\n\r\nexport const reducer = (state, { target: { value, id, name } }) => {\r\n  return {\r\n    ...state,\r\n    ...{\r\n      [name]:\r\n        name === \"status\"\r\n          ? id\r\n          : {\r\n              value,\r\n              error:\r\n                Joi.validate(value, schema[id])?.error?.details?.[0]?.message ??\r\n                null,\r\n            },\r\n    },\r\n  };\r\n};\r\n","import React, { useReducer, useContext } from \"react\";\r\nimport _ from \"lodash\";\r\nimport Input from \"./Input\";\r\nimport * as yup from \"yup\";\r\nimport { reducer, init } from \"./store\";\r\nimport { Context } from \"../../App\";\r\nimport { toast } from \"react-toastify\";\r\nimport { request } from \"../../store/action\";\r\n\r\nexport default function SignUp() {\r\n  const { httpDispatch } = useContext(Context);\r\n  const [{ status, ...fields }, dispatch] = useReducer(reducer, true, init);\r\n  return (\r\n    <form\r\n      className=\"w-50\"\r\n      novalidate=\"novalidate\"\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        let body = {};\r\n        let err = [];\r\n        let keys = _.keys(fields);\r\n        if (status === \"teacher\") {\r\n          keys = _.initial(keys);\r\n        }\r\n\r\n        for (let key of keys) {\r\n          let { error, value } = fields[key];\r\n          if (error) err.push(key);\r\n          body[key] = value;\r\n        }\r\n        if (err.length) {\r\n          let s = \"s:\".repeat(err.length !== 1);\r\n          return toast(`Filde${s} \"${err.join('\", \"')}\" invalide.`);\r\n        }\r\n        console.log(body);\r\n        httpDispatch(request(\"sign/up\", body, \"signin\"));\r\n      }}\r\n    >\r\n      <h1>Sign-Up</h1>\r\n      <Input label=\"name\" type=\"text\" field={fields.name} dispatch={dispatch} />\r\n      <Input label=\"email\" field={fields.email} dispatch={dispatch} />\r\n      <Input\r\n        label=\"password\"\r\n        type=\"text\"\r\n        field={fields.password}\r\n        dispatch={dispatch}\r\n      />\r\n      {[\"teacher\", \"student\"].map((statusName) => (\r\n        <div className=\"form-check\">\r\n          <input\r\n            className=\"form-check-input\"\r\n            type=\"radio\"\r\n            id={statusName}\r\n            name=\"status\"\r\n            checked={statusName === status}\r\n            onChange={dispatch}\r\n          />\r\n          <label className=\"form-check-label\" for=\"flexRadioDefault1\">\r\n            {statusName}\r\n          </label>\r\n        </div>\r\n      ))}\r\n      {status === \"student\" && (\r\n        <Input\r\n          label=\"teacherEmail\"\r\n          type=\"text\"\r\n          field={fields.teacherEmail}\r\n          dispatch={dispatch}\r\n        />\r\n      )}\r\n      <button className=\"btn btn-outline-info mt-2 w-25\">Submit</button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useReducer, useContext } from \"react\";\r\nimport Input from \"./Input\";\r\nimport { reducer, init } from \"./store\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Context } from \"../../App\";\r\nimport { request } from \"../../store/action\";\r\n\r\nexport default function SignIn() {\r\n  const { httpDispatch } = useContext(Context);\r\n  const [{ status, ...fields }, dispatch] = useReducer(reducer, false, init);\r\n  return (\r\n    <form\r\n      novalidate=\"novalidate\"\r\n      className=\"w-50\"\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        let body = {};\r\n        let err = [];\r\n        for (let field in fields) {\r\n          let { error, value } = fields[field];\r\n          if (error || !value) err.push(field);\r\n          body[field] = value;\r\n        }\r\n        if (err.length) {\r\n          let s = \"s:\".repeat(err.length !== 1);\r\n          return toast(`Filde${s} \"${err.join('\", \"')}\" invalide.`);\r\n        }\r\n        httpDispatch(request(\"sign/in\", body));\r\n      }}\r\n    >\r\n      <h1>Sing-In</h1>\r\n      <Input label=\"email\" field={fields.email} dispatch={dispatch} />\r\n      <Input\r\n        label=\"password\"\r\n        type=\"text\"\r\n        field={fields.password}\r\n        dispatch={dispatch}\r\n      />\r\n      <button className=\"btn btn-outline-info mt-2 w-25\">Submit</button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useReducer, useEffect, useMemo } from \"react\";\nimport _ from \"lodash\";\nimport { Switch, Route, useLocation, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { reducer, init } from \"./store/reducer\";\nimport * as act from \"./store/action\";\nimport Navbar from \"./component/Navbar\";\nimport About from \"./component/About\";\nimport Help from \"./component/Help\";\nimport ExerciseRoute from \"./component/exercise/Route\";\nimport Eding from \"./component/eding/Route\";\nimport Tracking from \"./component/StudentsTracking\";\n\nimport LogOut from \"./component/LogOut\";\nimport SignUp from \"./component/user/SignUp\";\nimport SignIn from \"./component/user/SignIn\";\nimport \"./App.css\";\n\nconst URL = \"https://logos123.herokuapp.com\";\nconst Context = React.createContext({});\n\nfunction App() {\n  const location = useLocation();\n  const { pathname, search } = location;\n  const [{ loading, ...state }, dispatch] = useReducer(reducer, init(pathname));\n  const { page, lesson, exercise, status } = state;\n\n  const routes = {\n    About,\n    Guide: Help,\n    Examples: ExerciseRoute,\n    ...(status === \"student\" && { Homework: ExerciseRoute }),\n    ...(status === \"teacher\" && { Eding, Tracking }),\n    ...(status === \"guest\" ? { SignIn, SignUp } : { LogOut }),\n  };\n  const links = _.keys(routes);\n  const history = useHistory();\n\n  axios.defaults.headers.common[\"x-auth-token\"] = useMemo(() => {\n    return localStorage.getItem(\"token\");\n  }, [status]);\n  useEffect(() => {\n    if (!loading) return;\n    axios\n      .post(`${URL}/${state.path}`, state.body)\n      .then(({ data: { message, token, ...data } }) => {\n        if (token) localStorage.setItem(\"token\", token);\n        if (message) toast.success(message);\n        if (page) history.replace(page);\n        dispatch(act.success(data));\n      })\n      .catch((err) => {\n        let messege = err?.response?.data;\n        if (typeof messege !== \"string\") {\n          messege = \"unexpected error\";\n        }\n        toast.error(messege);\n        dispatch(act.failed());\n      });\n  }, [loading]);\n\n  return (\n    <div className=\"container-fluid p-0\">\n      <Context.Provider value={{ ...state, httpDispatch: dispatch }}>\n        <Navbar navs={links} dispatch={dispatch} />\n        <ToastContainer />\n        <div className=\"container-fluid container-md text-info\">\n          <Switch>\n            {_.map(routes, (Component, name) => (\n              <Route\n                key={name}\n                component={Component}\n                path={\"/\" + name.toLowerCase()}\n              />\n            ))}\n            <Route path=\"*\" component={About} />\n          </Switch>\n        </div>\n      </Context.Provider>\n    </div>\n  );\n}\n//<h1>{_.capitalize(prop.location.pathname.slice(1))}</h1>\nexport { Context };\n\nexport default App;\n\nfunction valid(fields) {\n  return false;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport \"jquery/dist/jquery\";\nimport \"popper.js/dist/popper\";\nimport \"bootstrap/dist/js/bootstrap\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}